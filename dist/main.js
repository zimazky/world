(()=>{"use strict";var e={844:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(257)),o=r(957);t.default=class{canvas;renderer;startTime=0;currentTime=0;frame=0;constructor(e){this.canvas=e,this.renderer=new i.default(this.canvas),(0,o.initKeyBuffer)()}async initialize(){this.renderer=new i.default(this.canvas),await this.renderer.initialize(),this.startTime=this.currentTime=performance.now()/1e3}run=()=>{const e=performance.now()/1e3;this.startTime,this.currentTime,this.currentTime=e,this.frame++,this.renderer.render()}}},257:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(843));t.default=class{context;device;pipeline;constructor(e){const t=e.getContext("webgpu");if(!t){const e="WebGPU not supported";throw alert(e),new Error(e)}this.context=t}async initialize(){const e=await navigator.gpu.requestAdapter({powerPreference:"high-performance"});if(!e){const e="No adapter found";throw alert(e),new Error(e)}this.device=await e.requestDevice(),this.context.configure({device:this.device,format:navigator.gpu.getPreferredCanvasFormat()}),this.prepareModel()}prepareModel(){const e=this.device.createShaderModule({code:i.default}),t={module:e,entryPoint:"vertexMain",buffers:[]},r={module:e,entryPoint:"fragmentMain",targets:[{format:navigator.gpu.getPreferredCanvasFormat()}]};this.pipeline=this.device.createRenderPipeline({vertex:t,fragment:r,primitive:{topology:"triangle-list"},layout:"auto"})}render(){const e=this.device.createCommandEncoder(),t={colorAttachments:[{view:this.context.getCurrentTexture().createView(),clearValue:{r:0,g:0,b:0,a:1},loadOp:"clear",storeOp:"store"}]},r=e.beginRenderPass(t);r.setPipeline(this.pipeline),r.draw(3),r.end(),this.device.queue.submit([e.finish()])}}},607:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(844)),o=document.getElementById("wgpucanvas"),a=new i.default(o);a.initialize().then(a.run)},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isKeyDown=t.isKeyPress=t.initKeyBuffer=void 0;const r=Array(256).fill(0);function n(e){e.keyCode>=256||(r[e.keyCode]=1,e.preventDefault())}function i(e){e.keyCode>=256||(r[e.keyCode]=0,e.preventDefault())}t.initKeyBuffer=function(){window.addEventListener("keydown",n,!1),window.addEventListener("keyup",i,!1)},t.isKeyPress=function(e){const t=r[e];return r[e]=0,t},t.isKeyDown=function(e){return r[e]}},843:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="struct VertexOut {\r\n  @builtin(position) position: vec4f,\r\n  @location(0) color: vec4f\r\n}\r\n@vertex\r\nfn vertexMain(@builtin(vertex_index) vertexIndex: u32) -> VertexOut {\r\n  let pos = array(\r\n    vec2(-0.5, -0.5),\r\n    vec2(0.5, -0.5),\r\n    vec2(0.5, 0.5),\r\n  );\r\n\r\n  var output: VertexOut;\r\n\r\n  output.position = vec4f(pos[vertexIndex], 0., 1.);\r\n  output.color = vec4f(1., 0., 0., 1.);\r\n  return output;\r\n}\r\n\r\n@fragment\r\nfn fragmentMain(fragData: VertexOut) -> @location(0) vec4f {\r\n  return fragData.color;\r\n}\r\n"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(607)})();